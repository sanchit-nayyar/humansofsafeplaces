# humansofsafeplaces
This repository contains code for humansofsafeplaces

## Setup
```
sudo python setup.py
```
> Make sure you have instagram username and password handy while running this setup. It will be used to login to Instagram while accessing hashtag details

## Execution
* Open story.txt file and replace existing text with the post caption prepared for Instagram
* Open suggested_hashtags.txt and replace existing content with hashtags that seem relevant to you for the post. Separate hashtags with return sequence (one line per hashtag - no spaces)
* Ensure securityInfo.json contains updated values for username and password. Update if needed
* Place backup.csv in same folder as index.py if you have existing data backup. If you don't, new backup file will be created
* Run index.py file by passing the **top n** to print after execution

```
python index.py 7
```
This will print top 7 hashtags that were generated by performing corpus analysis on the story. Hashtags present in the suggested list will be ignored while generating this list.

## Update
Every once in a while, it is required to update the backup file so that the metrics for hashtags can be synchronized with latest figures on Instagram. If this is not done, data latency will affect the quality of suggestions.
Update is a timetaking process which requires a constant internet connection and you will not be able to use the suggestion toolkit while it is in progress. It is also possible that access to instagram account in securityinfo file gets blocked during this process, so please trigger process accordingly.

**Under any circumstances, update process should not be abnormally terminated as it will result in loss of backup file, and might even cause toolkit to fail in exceptional circumstances.** In case of internet or power failure, please clear the backup file / restore an old backup before using the toolkit or running update script again.

```
python update.py K
```
K is the key of update in this case, and has a default value of 0

K		|	Meaning
:------:|-------------------------------------------------------------------------------------
0		|	Check only hashtags which were not present earlier
1		|	Update hashtags which were present earlier, ignore hashtags that were not found
2		|	Update existing values and check for missing hashtags

Calling process with any other key will default to the value of 0